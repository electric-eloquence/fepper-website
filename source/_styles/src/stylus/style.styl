// /////////////////////////////////////////////////////////////////////////////
// variables.styl is shared between browser JavaScripts and Stylus.
// /////////////////////////////////////////////////////////////////////////////
@import '../../../_scripts/src/variables'

// /////////////////////////////////////////////////////////////////////////////
// The base on which the rest of the styles are built.
// /////////////////////////////////////////////////////////////////////////////
@import '0-base/00-variables'
@import '0-base/01-reset'
@import '0-base/02-fonts'
@import '0-base/03-helpers'
@import '0-base/04-global'

$video-head-height = 33.334vw
$logo-width= '%spx' % logo_width    // Need px measurement to work around min font-size zoom-out bug in Webkit.
$logo-height = '%spx' % logo_height // Need px measurement to work around min font-size zoom-out bug in Webkit.
$branding-pad = '%srem' % branding_pad
$item-last-offset = '%srem' % item_last_offset

body
  color: $black-less-contrast
  position: relative
p
  margin-bottom: $space
.body__contain
  overflow: hidden
.video-head
  width: 100%
  height: $video-head-height
.branding
  background: white
  padding: 1rem 0
  width: 100%
  z-index: 1
  -webkit-transform: translateZ(0); // Hack to fix bouncy fixed element in Chrome.
.logo
  margin: 0 auto
  overflow: hidden
  position: relative
  width: $logo-width
  height: $logo-height
  &__bg
    background: linear-gradient(to left, $green, $green 20%, $yellow 40%, $yellow 60%, $red 80%, $red);
    position: absolute
    top: 0
    right: 0
    width: 150rem
    height: 100%
  &__img
    position: relative
    top: 0
    left: 0
  &__border
    border: 0.05rem solid white
    position: absolute
    top: 0
    right: 0
    width: 100%
    height: 100%
.browser-advice
  margin-top: 'calc(100vh - %s - %s - %s - %s)' % ($video-head-height $logo-height $branding-pad $branding-pad)
.main
  position: relative
  text-align: center
.main__content
  &__center
    margin: 0 auto
    max-width: $content-width-max
  &__block
    opacity: 1
    padding: 5rem 0
    transform: translateY(0)
    transition: opacity 0.5s, transform 0.5s
    @media all and (max-width: $bp-md-max)
      margin: 0 ($space-quarter * 3)
    &:first-child
      margin-bottom: 0
      padding-bottom: 0
    &:nth-child(2)
      padding-top: 0
.link-github
  display: flex
  justify-content: center
  line-height: 2.8rem
  &__anchor
    display: block
    &:hover + .link-github__anchor--arrow,
    &--arrow:hover
      font-size: 2.2rem
    &--arrow
      font-size: 2rem
      padding-left: 1rem
      width: 3.2rem
.footer
  background-color: black
  color: white
  margin-top: 'calc(100vh - %s - %s - %s - %s)' % ($item-last-offset $logo-height $branding-pad $branding-pad)
  padding: 3rem 0
  text-align: center
  width: 100%
html.es6-modules-enabled
  .browser-advice
    display: none
  .main__content
    display: flex
    align-items: center
    flex-direction: column
    position: absolute
    top: 0
    left: 0
    width: 100%
    &__slider
      opacity: 0;
      transform: translateY(5rem);
