<h3><a id="user-content-extensions" class="anchor" aria-hidden="true" href="#extensions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a id="user-content-extensions"></a>Extensions</h3><p>The <code>extend</code> directory is purposed for extending Fepper's functionality.
Extensions can be contributed or custom. The <code>extend</code> directory will not be
modified when updating Fepper.</p><h5><a id="user-content-contributed-extensions" class="anchor" aria-hidden="true" href="#contributed-extensions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributed extensions:</h5><ul>
<li>Install and update contributed extensions with npm in the <code>extend</code> directory.</li>
<li>Add the tasks to <code>extend/contrib.js</code> (and <code>extend/auxiliary/auxiliary_contrib.js</code>
if necessary) in order for Fepper to run them.</li>
<li>Contributed Fepper extensions can be found at
<a href="https://www.npmjs.com/search?q=fepper%20extension" rel="nofollow">
</a><a href="https://www.npmjs.com/search?q=fepper%20extension" rel="nofollow">https://www.npmjs.com/search?q=fepper%20extension</a></li>
</ul><h5><a id="user-content-custom-extensions" class="anchor" aria-hidden="true" href="#custom-extensions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Custom extensions:</h5><ul>
<li>Write custom extensions in the <code>extend/custom</code> directory.</li>
<li>Extensions require a file ending in "~extend.js" in order for Fepper to
recognize their tasks.</li>
<li>The "*~extend.js" file can be directly under <code>extend/custom</code>, or nested one
directory deep, but no deeper.</li>
<li>Add the tasks to <code>extend/custom.js</code> (and <code>extend/auxiliary/auxiliary_custom.js</code>
if necessary) in order for Fepper to run them.</li>
<li>Fepper runs a self-contained instance of gulp to manage tasks. This gulp
instance will be independent of any other gulp instance on your system.</li>
<li>For best results, set <code>const gulp = global.gulp</code>, not
<code>const gulp = require('gulp')</code>.</li>
<li>The <code>fp</code> command is an alias for <code>gulp</code> (among other things). Any <code>fp</code> task
can be included in a custom task.</li>
<li>Fepper only supports
<a href="https://github.com/electric-eloquence/gulp#readme">gulp 3</a>
syntax.</li>
</ul><h5><a id="user-content-confs-and-prefs" class="anchor" aria-hidden="true" href="#confs-and-prefs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Confs and prefs:</h5><p>You might need to access the values in the <code>conf.yml</code> and <code>pref.yml</code> files in
order to write custom tasks. They are exposed through <code>global.conf</code> and
<code>global.pref</code> (on the <code>global</code> Node object).</p><p>The values in <code>patternlab-config.json</code> are exposed through <code>global.conf.ui</code>.
Please note that all paths in <code>patternlab-config.json</code> will be converted to
absolute paths in <code>global.conf.ui</code>. Relative paths can be accessed through
<code>global.conf.ui.pathsRelative</code>.</p><h5><a id="user-content-utilities" class="anchor" aria-hidden="true" href="#utilities"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Utilities:</h5><p>Common utilty functions for custom extensions are available from the
<a href="https://www.npmjs.com/package/fepper-utils" rel="nofollow">Fepper Utils</a>
npm.</p><h5><a id="user-content-object-oriented-fepper" class="anchor" aria-hidden="true" href="#object-oriented-fepper"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Object-oriented Fepper:</h5><p>Beneath the gulp tasking system lies object-oriented Fepper. Running any <code>fp</code>
task instantiates the <code>Fepper</code> class. This instance is exposed through the
<code>global.fepper</code> object. By directly accessing the <code>Fepper</code> instance, you can run
any Fepper operation without gulp. Deeper within <code>Fepper</code> lies the <code>Patternlab</code>
class. By directly accessing <code>Patternlab</code>, you can run any Pattern Lab
operation without Fepper. The <code>Patternlab</code> instance is attached to Fepper as
<code>global.fepper.ui.patternlab</code>. The <code>global.fepper</code> object can, of course, be
easily inspected in a console.</p><p>If there is something you wish were different about the <code>Fepper</code> class, or any
of its member classes, you can inherit from the class, and make whatever changes
you wish, without worry that your changes will be overwritten by the next
update.</p><p>Here is an example of overriding the <code>fp help</code> command:</p><ol>
<li>Create an <code>instance_file</code>. For this example, let's write it at
<code>extend/custom/hack-help.js</code>.</li>
</ol><div class="highlight highlight-source-js"><pre><span class="pl-s">'use strict'</span><span class="pl-kos">;</span>

<span class="pl-k">const</span> <span class="pl-v">FepperSuper</span> <span class="pl-c1">=</span> <span class="pl-en">require</span><span class="pl-kos">(</span><span class="pl-s">'fepper'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-k">const</span> <span class="pl-v">HelperSuper</span> <span class="pl-c1">=</span> <span class="pl-en">require</span><span class="pl-kos">(</span><span class="pl-s">'fepper/core/tasks/helper'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-k">const</span> <span class="pl-v">TasksSuper</span> <span class="pl-c1">=</span> <span class="pl-en">require</span><span class="pl-kos">(</span><span class="pl-s">'fepper/core/tasks/tasks'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

<span class="pl-k">class</span> <span class="pl-v">Helper</span> <span class="pl-k">extends</span> <span class="pl-v">HelperSuper</span> <span class="pl-kos">{</span>
  <span class="pl-en">constructor</span><span class="pl-kos">(</span><span class="pl-s1">options</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">super</span><span class="pl-kos">(</span><span class="pl-s1">options</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span>

  <span class="pl-en">main</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">'ASYNC ALL THE THINGS!'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-k">class</span> <span class="pl-v">Tasks</span> <span class="pl-k">extends</span> <span class="pl-v">TasksSuper</span> <span class="pl-kos">{</span>
  <span class="pl-en">constructor</span><span class="pl-kos">(</span><span class="pl-s1">options</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">super</span><span class="pl-kos">(</span><span class="pl-s1">options</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">helper</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Helper</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">options</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-smi">module</span><span class="pl-kos">.</span><span class="pl-c1">exports</span> <span class="pl-c1">=</span> <span class="pl-k">class</span> <span class="pl-v">Fepper</span> <span class="pl-k">extends</span> <span class="pl-v">FepperSuper</span> <span class="pl-kos">{</span>
  <span class="pl-en">constructor</span><span class="pl-kos">(</span><span class="pl-s1">cwd</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">super</span><span class="pl-kos">(</span><span class="pl-s1">cwd</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">tasks</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">Tasks</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">options</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div><ol start="2">
<li>Declare <code>instance_file</code> in <code>pref.yml</code>.</li>
</ol><div class="highlight highlight-source-yaml"><pre><span class="pl-ent">instance_file</span>: <span class="pl-s">extend/custom/hack-help.js</span></pre></div><ol start="3">
<li>Run <code>fp help</code> on the command line. It should log
<a href="https://www.npmjs.com/package/gulp4-run-sequence#why-the-culinary-task-names" rel="nofollow">
"ASYNC ALL THE THINGS!"</a></li>
</ol><p>Hackers wishing to view the code for any of these classes will find that the ES6
syntax and object-orientation makes the code mostly self-documenting. The entry
point to the <code>Fepper</code> class is in
<a href="https://github.com/electric-eloquence/fepper-npm/blob/dev/core/fepper.js">
Fepper NPM at <code>core/fepper.js</code></a>.</p><p>There is currently no public API for object-oriented Fepper. To express demand
for one,
<a href="https://github.com/electric-eloquence/fepper/issues">
please open an issue</a>.</p>